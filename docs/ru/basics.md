[< На главную](index.md)

# Основные механики

На этой странице будут описаны корневые механики игры. Эти механики составляют основу геймплея и напрямую видны игроку
во время прохождения уровней.

- [Уровень](#уровень)
- [Режимы геймплея](#режимы-геймплея)
- [Система улучшений](#система-улучшений)
- [Трансформации](#трансформации)

## Уровень

Уровень - основная единица игрового процесса. Уровень можно пройти, за прохождение можно получить вознаграждения, а
также можно создать свой уровень в редакторе. В каждом уровне должны быть следующие атрибуты:

- **Идентификатор** - уникальный числовой ключ, определяющий личность уровня. Задается автоматически определенным
  образом и никогда не меняется. Может использоваться для нахождения уровня на онлайн-площадке. Есть перспектива
  использования технологии диплинков (deeplinks) для быстрого перехода в уровень по веб-ссылке.
- **Название** - строковый ключ, задается автором уровня и не изменяется (?) после опубликования. Может использоваться
  для нахождения уровня на онлайн-площадке.
- **Начальный режим** - [режим](#режимы-геймплея), в котором начнется уровень.
- **Начальная позиция** - место, в котором начнется уровень. Неудаляемый объект внутри уровня.
- **Конечная позиция** - место, в котором закончится уровень. Неудаляемый объект внутри уровня.

Задача игрока - через препятствия добраться до конечной позиции (скорее всего, она будет обозначена анимированным
флажком). При достижении конечной позиции уровень считается пройденным, игрок получает вознаграждение за прохождение.
При получении урона персонаж погибает и возрождается на последнем чекпоинте, либо в начальной точке.

У игрока бесконечное количество попыток, а промежуток времени между смертью и возрождением будет недолгим (1-2 секунды),
что способствует постоянному темпу игры.

Игровые объекты будут описаны в разделе [Редактор](editor.md).

## Режимы геймплея

Игровой процесс может быть в одном из нескольких режимов. Такой режим определяет значительное количество поведения
персонажа и окружающего мира, а также управления. Сейчас есть два основных режима:

- **Классический режим** - управление осуществляется WASD или стрелками, прыжок - пробел. Стрелки влево/вправо
  перемещают персонажа в заданном направлении; стрелки вверх/вниз не делают ничего по умолчанию, но могут быть
  обработаны в редакторе для реализации механик по типу лазания по лестнице. К персонажу могут быть применены внешние
  силы в любом направлении и количестве, может быть изменена его гравитация в четырех основных направлениях и любой
  силы.
- **Ритмичный режим** - управление осуществляется преимущественно пробелом (возможно управление стрелкой вверх) -
  прыжок. Персонаж движется вперед с постоянной скоростью, на него влияют только силы в вертикальном направлении. При
  столкновении с препятствием сбоку персонаж погибает.

Позже могут быть добавлены другие режимы. В других пунктах документа будут описаны различия в механиках при каждом
режиме.

> Должна быть реализована механика переключения режима во время прохождения уровня. Пока нет идей, каким образом она
> будет реализована.

## Система улучшений

В игре будет реализована система улучшений, которая позволит игрокам расширить возможности управления. Такие улучшения
могут быть получены в сюжетной кампании, в награду за достижения или куплены в магазине. Некоторые улучшения могут быть
применены только в классическом режиме, некоторые - только в ритмичном режиме.

Возможность применения улучшений в ритмичном режиме еще под вопросом, так как баланс геймплея в таких уровнях
поддерживать очень сложно.

Создатели пользовательских уровней могут указать, какие улучшения необходимы для прохождения уровня, а какие помогут
найти различные бонусы. Возможно, будет дана возможность ограничить использование улучшений в целях баланса.

Количество одновременно применяемых улучшений может быть ограничено для баланса геймплея.

В таблице ниже указаны примерные идеи улучшений. Знак `-` означает, что это улучшение нельзя применить в указанном
режиме.

| Название             | Действие в классическом режиме                                                                                                                | Действие в ритмичном режиме                          |
|----------------------|-----------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------|
| **Двойной прыжок**   | Позволяет совершить дополнительный прыжок в воздухе.                                                                                          | Позволяет совершить дополнительный прыжок в воздухе. |
| **Прыжок от стены**  | Позволяет совершить прыжок от стены. Количество прыжков не ограничено. Не работает на поверхностях с [материалом](editor.md#материалы) "Лёд". | -                                                    |
| **Рывок**            | Позволяет совершить рывок в направлении, указанном стрелками.                                                                                 | Позволяет совершить рывок вверх или вниз.            |
| **Ботинки с шипами** | Позволяет зацепиться за стену. При нажатии стрелки вниз игрок будет скатываться по стене.                                                     | -                                                    |

> Улучшения пока что не учитывают трансформации, и только применяются к первоначальной форме персонажа.

## Трансформации

Очень маловероятно, так как это одна из киллер-фич Geometry Dash и использование такого функционала может повлечь за
собой проблемы (необязательно копирайт, но и будет гораздо больше сравнений этой игры с Geometry Dash в сообществе).

Трансформации меняют возможности персонажа с фундаментальными изменениями в управлении. Игрок может трансформироваться в
процессе прохождения уровня с помощью специальных объектов (скорее всего, порталов) (этот объект не описан в
пункте [Игровые объекты](editor.md#игровые-объекты)).

Ниже описаны возможные трансформации игрока.

| Название                       | Возможности в классическом режиме                                                                                                                                                                                                 | Возможности в ритмичном режиме                                                                                                   |
|--------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------|
| **Куб / первоначальная форма** | При нажатии на кнопку прыжка будучи на земле осуществляет простой прыжок. При зажатии кнопки прыжка прыгает постоянно.                                                                                                            | При нажатии на кнопку прыжка будучи на земле осуществляет простой прыжок. При зажатии кнопки прыжка прыгает постоянно.           |
| **Ракета / корабль**           | При зажатии кнопки прыжка взлетает.                                                                                                                                                                                               | При зажатии кнопки прыжка взлетает.                                                                                              |
| **Шар / ёж?**                  | При нажатии кнопки прыжка будучи на земле меняет гравитацию на противоположную. Может зацепиться за любую сторону поверхности, при этом при смене стороны гравитация также изменится на ближайшую из четырех основных гравитаций. | При нажатии кнопки прыжка будучи на земле меняет гравитацию на противоположную.                                                  |
| **Робот / лягушка?**           | При нажатии на кнопку прыжка будучи на земле осуществляет прыжок. Высота прыжка регулируется продолжительностью нажатия клавиши.                                                                                                  | При нажатии на кнопку прыжка будучи на земле осуществляет прыжок. Высота прыжка регулируется продолжительностью нажатия клавиши. |
